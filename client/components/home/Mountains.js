import { useEffect } from 'react';
import { gsap } from 'gsap';
import { ScrollTrigger } from 'gsap/dist/ScrollTrigger';

import styles from '@styles/Mountains.module.scss';

if (typeof window !== 'undefined') {
  gsap.registerPlugin(ScrollTrigger);
}

function Mountains() {
  useEffect(() => {
    gsap.set('.mountains', {
      opacity: 1,
    });

    gsap.from('.mountain', {
      y: 1000,
      stagger: 0.15,
      duration: 1.25,
      ease: 'sine.out',
    });

    return () => gsap.killTweensOf('.mountain');
  }, []);

  useEffect(() => {
    const defaultLeaveAnimation = {
      y: 1000,
      ease: 'circ.in',
    };

    const tl = gsap
      .timeline({
        scrollTrigger: {
          trigger: '.intro',
          scrub: true,
          start: '10% top',
          end: '+=60%',
        },
      })
      .to('.mount-1', defaultLeaveAnimation)
      .to('.mount-2', defaultLeaveAnimation)
      .to('.mount-3', defaultLeaveAnimation);

    return () => tl.kill();
  }, []);

  return (
    <svg
      fill="none"
      className={`${styles.mountains} mountains`}
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 1440 506"
    >
      <g>
        <path
          className="mountain mount-1"
          d="M126.853 295.09c14.612-39.946 27.454-75.532 40.65-110.851 6.571-17.606 11.336-18.51 20.954-5.372 1.328 1.809 2.249 4.947 3.773 5.745 17.606 9.228 35.177 18.75 53.013 26.888 8.042 3.67 13.125-3.431 16.898-14.495 5.013-14.707 9.565-31.17 25.099-21.276 3.082 1.968 11.371-5.559 13.833-11.756 18.191-45.797 46.921-65.08 79.777-76.117 9.919-3.324 19.52-10.585 28.518-18.058 22.495-18.697 44.529-24.681 67.219-.851 5.101 5.372 11.531 7.819 16.897 12.74 8.379 7.659 13.285 7.739 20.565 1.276 16.65 5.186 31.262 9.707 45.875 14.361 2.622.825 5.261 1.915 7.723 3.431 33.087 20.479 66.457 40.053 99.048 62.181 10.787 7.341 19.201 22.208 29.403 31.968 6.536 6.25 14.241 9.92 21.61 13.99 8.413 4.627 17.482 7.047 25.47 12.845 21.787 15.825 30.696 14.681 49.046-9.308 13.621-17.793 27.419-35.319 40.739-53.591 6.979-9.574 14.011-11.569 22.088-4.441 18.279 16.064 36.93 31.303 54.625 48.697 15.02 14.76 20.564 14.149 30.377-9.016 11.956-28.245 11.938-28.139 31.528-13.458 9.282 6.968 18.546 14.043 28.128 19.947 4.831 2.979 11.251 6.888 15.411 4.468 15.55-9.016 25.79 2.713 34.08 18.511 14.75 28.138 30.34 55.984 41.96 86.995 23.33 62.26 58.18 108.324 91.47 156.914 8.3 12.128 15.99 25.16 25.84 40.772H-3.3c17.43-29.389 32.61-55.745 48.48-81.144 3.861-6.197 10.734-8.058 14.755-14.122 2.887-4.335 9.724-11.117 1.611-19.708-.974-1.037 1.099-9.734 2.462-14.388 8.91-30.266 18.174-60.319 27.012-90.665 3.277-11.25 7.528-13.777 14.825-7.766 6.908 5.612 14.241 9.974 21.008 14.654z"
          fill="#A36B81"
        />
        <path
          className="mountain mount-2"
          d="M1118.96 508c-498.735 0-622.562-.169-1121.297-.169-.216-1.012-.448-2.024-.663-3.037 3.793-3.149 7.454-6.833 11.38-9.336 25.909-16.367 51.585-32.452 75.953-56.102 20.972-20.36 44.826-33.634 68.316-44.348 10.701-4.893 24.169.844 35.301 7.171 19.067 10.855 33.412.141 47.046-20.529 10.453-15.86 20.408-33.042 31.888-46.428 11.662-13.611 24.931-23.285 37.488-34.758 19.315-17.689 38.879-34.674 57.83-53.431 13.434-13.301 26.389-28.262 38.895-44.01 8.217-10.349 15.174-11.052 24.501-3.515 33.644 27.137 67.67 52.952 101.745 78.487 3.528 2.643 8.978 2.249 12.589-.45 18.62-13.864 36.958-28.825 55.329-43.645 2.833-2.278 6.328-4.893 7.736-9.083 6.974-20.557 18.802-28.206 30.845-35.714 1.772-1.097 4.025-2.25 4.97-4.612 10.866-26.997 29.701-29.584 45.024-42.857 7.355-6.384 14.644-13.02 22.132-18.87 6.245-4.893 13.087-7.789 19.083-13.357 7.985-7.424 15.82-15.664 22.976-25.141 17.063-22.666 33.496-46.71 50.558-69.404 15.108-20.078 18.968-19.403 34.473-.45 11.38 13.892 23.374 26.434 34.473 40.889 6.112 7.958 10.817 18.954 16.482 28.037 1.822 2.925 4.771 5.934 7.007 5.54 8.548-1.434 14.578 5.821 20.459 14.483 10.817 15.944 21.121 33.127 32.634 47.469 16.002 19.909 34.754 29.386 54.367 32.142 12.14 1.716 22.02 8.324 29.97 24.382 12.37 25 28.06 40.776 46.36 51.996 14.71 9.027 28.23 24.185 41.8 37.964-.02 0 2.75 209.308 2.35 210.686z"
          fill="#9B738C"
        />
        <path
          className="mountain mount-3"
          d="M-3.246 508.202c0-13.138 17.128-184.761 26.144-191.596 12.629-9.601 20.174-24.84 25.736-43.803 1.683-5.745 6.82-9.122 10.132-13.936 2.32-3.378 4.25-7.367 6.376-11.064 1.93-3.351 3.631-7.101 5.863-9.92 7.05-8.936 14.489-17.234 21.432-26.356 6.04-7.926 13.408-7.261 17.252 3.324 4.357 12.048 9.087 22.846 17.128 30.559 6.182 5.93 7.776 16.968 9.831 27.473 2.001 10.186 5.278 20.372 9.547 28.803 4.392 8.67 15.587 2.021 19.112-7.42 9.299-24.947 14.01-54.867 32.839-70.027 5.207-4.175 9.759-10.345 14.294-16.143 2.231-2.846 3.524-7.261 5.597-10.426 6.731-10.239 13.532-20.346 20.529-30.159 1.009-1.41 3.276-1.623 4.835-1.25 17.004 3.856 33.619 10.079 45.769 29.813 6.324 10.24 12.311 21.889 16.101 34.495 6.058 20.239 13.674 35.319 28.694 42.394 11.283 5.319 21.539 15.585 32.255 23.67.39.292.744.665 1.134.957 6.695 4.761 23.681-10.425 31.422-11.888 54.661 57.075 142.462 206.064 154.967 222.527H-3.247v-.027z"
          fill="#757087"
        />
        <path
          className="mountain mount-4"
          d="M1459.76 515V250.372c-24.44-1.17-38.86-21.096-51.27-41.368-19.88-32.456-47.15-41.342-75.6-46.928-19.59-3.858-35.13-7.609-44.32-35.755-5.04-15.404-20.08-30.115-33.06-35.676-43.47-18.649-77.69-57.57-117.66-83.56-11.09-7.21-20.75-10.562-31.59-2.023-17.09 13.462-34.7 26.072-50.98 40.996-18.47 16.947-37.34 31.844-59.398 40.038-9.496 3.512-19.572 8.646-26.896 16.76-20.731 22.906-46.51 25.752-71.171 34.239-19.697 6.784-38.896 16.334-57.765 26.311-4.738 2.5-9.538 10.854-10.634 17.531-2.317 14.047-9.58 16.362-18.352 17.372-8.813 1.011-17.668 1.676-26.482 2.714-15.807 1.862-28.282 10.562-36.165 29.051-1.428 3.379-3.786 7.183-6.393 8.486-33.062 16.495-65.73 33.946-101.088 42.22-15.745 3.671-30.269 15.616-45.455 23.438-9.579 4.921-19.427 8.938-29.027 13.754-14.152 7.103-28.655 13.328-42.144 22.16-14.648 9.577-29.007 13.488-45.289 8.806-28.614-8.274-53.875 4.203-77.772 23.251a2429.355 2429.355 0 01-30.889 24.209c-16.551 12.797-33.31 17.053-52.737 8.886-48.558-20.431-97.157-10.163-144.991 5.427-9.952 3.246-18.062 15.616-27.103 23.651-4.821 4.283-9.6 8.725-14.752 12.21-11.668 7.848-23.151 16.654-35.482 22.241-14.586 6.624-29.937 10.508-45.04 15.111-12.104 3.698-24.435 6.118-36.435 10.215-5.875 2.022-11.234 6.598-16.82 10.003v9.358c622.667.027 1443.85 1.713 1462.76 1.5z"
          fill="#161d30"
        />
      </g>
    </svg>
  );
}

export default Mountains;
