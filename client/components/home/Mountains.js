import { useEffect } from 'react';
import { gsap } from 'gsap';
import { ScrollTrigger } from 'gsap/dist/ScrollTrigger';

import styles from '@styles/Mountains.module.scss';

if (typeof window !== 'undefined') {
  gsap.registerPlugin(ScrollTrigger);
}

function Mountains() {
  useEffect(() => {
    gsap.from('.mountain', {
      y: 1000,
      stagger: 0.15,
      duration: 1,
      ease: 'sine.out',
    });

    return () => gsap.killTweensOf('.mountain');
  }, []);

  useEffect(() => {
    const defaultLeaveAnimation = {
      y: 1000,
      ease: 'circ.in',
    };

    const tl = gsap
      .timeline({
        scrollTrigger: {
          trigger: '.about',
          scrub: true,
          start: '10% top',
        },
      })
      .to('.mount-1', defaultLeaveAnimation)
      .to('.mount-2', defaultLeaveAnimation)
      .to('.mount-3', defaultLeaveAnimation)
      .to('.mount-4', defaultLeaveAnimation);

    return () => tl.kill();
  }, []);

  return (
    <svg
      fill="none"
      viewBox="0 0 1440 506"
      className={styles.mountains}
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M126.853 295.09c14.612-39.946 27.454-75.532 40.65-110.851 6.571-17.606 11.336-18.51 20.954-5.372 1.328 1.809 2.249 4.947 3.773 5.745 17.606 9.228 35.177 18.75 53.013 26.888 8.042 3.67 13.125-3.431 16.898-14.495 5.013-14.707 9.565-31.17 25.099-21.276 3.082 1.968 11.371-5.559 13.833-11.756 18.191-45.797 46.921-65.08 79.777-76.117 9.919-3.324 19.52-10.585 28.518-18.058 22.495-18.697 44.529-24.681 67.219-.851 5.101 5.372 11.531 7.819 16.897 12.74 8.379 7.659 13.285 7.739 20.565 1.276 16.65 5.186 31.262 9.707 45.875 14.361 2.622.825 5.261 1.915 7.723 3.431 33.087 20.479 66.457 40.053 99.048 62.181 10.787 7.341 19.201 22.208 29.403 31.968 6.536 6.25 14.241 9.92 21.61 13.99 8.413 4.627 17.482 7.047 25.47 12.845 21.787 15.825 30.696 14.681 49.046-9.308 13.621-17.793 27.419-35.319 40.739-53.591 6.979-9.574 14.011-11.569 22.088-4.441 18.279 16.064 36.93 31.303 54.625 48.697 15.02 14.76 20.564 14.149 30.377-9.016 11.956-28.245 11.938-28.139 31.528-13.458 9.282 6.968 18.546 14.043 28.128 19.947 4.831 2.979 11.251 6.888 15.411 4.468 15.55-9.016 25.79 2.713 34.08 18.511 14.75 28.138 30.34 55.984 41.96 86.995 23.33 62.26 58.18 108.324 91.47 156.914 8.3 12.128 15.99 25.16 25.84 40.772H-3.3c17.43-29.389 32.61-55.745 48.48-81.144 3.861-6.197 10.734-8.058 14.755-14.122 2.887-4.335 9.724-11.117 1.611-19.708-.974-1.037 1.099-9.734 2.462-14.388 8.91-30.266 18.174-60.319 27.012-90.665 3.277-11.25 7.528-13.777 14.825-7.766 6.908 5.612 14.241 9.974 21.008 14.654z"
        className="mountain mount-1"
        fill="#A36B81"
      />
      <path
        d="M1196.41 508.362c-533.275 0-665.676-.16-1198.948-.16-.23-.957-.478-1.915-.708-2.872 4.056-2.979 7.97-6.463 12.168-8.83 27.703-15.479 55.157-30.691 81.212-53.058 22.425-19.256 47.931-31.809 73.047-41.942 11.442-4.628 25.843.798 37.745 6.782 20.388 10.266 35.727.133 50.304-19.415 11.177-15 21.822-31.25 34.097-43.91 12.469-12.872 26.657-22.021 40.083-32.872 20.653-16.729 41.572-32.792 61.835-50.532 14.365-12.58 28.216-26.729 41.589-41.622 8.785-9.787 16.224-10.452 26.197-3.325 35.974 25.665 72.355 50.08 108.79 74.229 3.773 2.5 9.6 2.128 13.462-.425 19.908-13.112 39.516-27.261 59.159-41.277 3.029-2.154 6.767-4.628 8.272-8.59 7.457-19.442 20.104-26.676 32.981-33.777 1.895-1.037 4.304-2.128 5.314-4.362 11.619-25.532 31.758-27.978 48.142-40.532 7.865-6.037 15.658-12.313 23.664-17.845 6.678-4.628 13.993-7.367 20.405-12.633 8.538-7.022 16.916-14.814 24.568-23.777 18.243-21.436 35.814-44.176 54.058-65.638 16.154-18.99 20.281-18.351 36.86-.426 12.169 13.139 24.992 25 36.86 38.67 6.536 7.527 11.566 17.926 17.624 26.516 1.948 2.766 5.101 5.612 7.492 5.24 9.14-1.357 15.587 5.505 21.875 13.697 11.567 15.079 22.584 31.329 34.893 44.893 17.11 18.83 37.16 27.793 58.13 30.399 12.99 1.622 23.54 7.872 32.05 23.059 13.23 23.643 30 38.563 49.57 49.175 15.73 8.537 30.19 22.872 44.69 35.904-.02 0 2.94 197.953 2.52 199.256z"
        className="mountain mount-2"
        fill="#9B738C"
      />
      <path
        d="M-3.246 508.202c0-13.138 17.128-184.761 26.144-191.596 12.629-9.601 20.174-24.84 25.736-43.803 1.683-5.745 6.82-9.122 10.132-13.936 2.32-3.378 4.25-7.367 6.376-11.064 1.93-3.351 3.631-7.101 5.863-9.92 7.05-8.936 14.489-17.234 21.432-26.356 6.04-7.926 13.408-7.261 17.252 3.324 4.357 12.048 9.087 22.846 17.128 30.559 6.182 5.93 7.776 16.968 9.831 27.473 2.001 10.186 5.278 20.372 9.547 28.803 4.392 8.67 15.587 2.021 19.112-7.42 9.299-24.947 14.01-54.867 32.839-70.027 5.207-4.175 9.759-10.345 14.294-16.143 2.231-2.846 3.524-7.261 5.597-10.426 6.731-10.239 13.532-20.346 20.529-30.159 1.009-1.41 3.276-1.623 4.835-1.25 17.004 3.856 33.619 10.079 45.769 29.813 6.324 10.24 12.311 21.889 16.101 34.495 6.058 20.239 13.674 35.319 28.694 42.394 11.283 5.319 21.539 15.585 32.255 23.67.39.292.744.665 1.134.957 6.695 4.761 23.681-10.425 31.422-11.888 54.661 57.075 142.462 206.064 154.967 222.527H-3.247v-.027z"
        className="mountain mount-3"
        fill="#757087"
      />
      <path
        d="M1447 506.048l-3.63-255.266c-20.92-1.17-33.26-21.091-43.89-41.356-17.02-32.447-40.37-41.33-64.72-46.915-16.77-3.857-30.08-7.607-37.94-35.745-4.32-15.399-17.2-30.106-28.31-35.665-37.21-18.644-66.51-57.553-100.73-83.537-9.49-7.208-17.76-10.559-27.04-2.021-14.63 13.457-29.71 26.063-43.65 40.984-15.81 16.941-31.97 31.835-50.85 40.026-8.13 3.51-16.76 8.644-23.03 16.755-17.74 22.899-39.814 25.745-60.928 34.229-16.862 6.782-33.299 16.33-49.453 26.303-4.056 2.5-8.165 10.851-9.104 17.527-1.984 14.043-8.201 16.356-15.711 17.367-7.546 1.011-15.127 1.676-22.672 2.713-13.533 1.862-24.213 10.558-30.962 29.042-1.222 3.378-3.241 7.181-5.473 8.484-28.305 16.49-56.273 33.937-86.544 42.208-13.479 3.67-25.913 15.612-38.914 23.431-8.201 4.92-16.632 8.936-24.851 13.75-12.115 7.101-24.532 13.324-36.08 22.154-12.541 9.574-24.833 13.484-38.773 8.803-24.496-8.271-46.123 4.202-66.581 23.245a2178.605 2178.605 0 01-26.445 24.202c-14.17 12.792-28.517 17.048-45.149 8.883-41.572-20.426-83.179-10.16-124.13 5.425-8.52 3.245-15.463 15.612-23.203 23.644-4.127 4.282-8.219 8.723-12.629 12.208-9.99 7.845-19.821 16.648-30.378 22.234-12.487 6.622-25.63 10.505-38.56 15.106-10.362 3.697-20.918 6.117-31.192 10.213-5.03 2.021-9.617 6.595-14.4 10l.744 3.856c533.077.027 1238.988-2.074 1255.178-2.287z"
        className="mountain mount-4"
        fill="#343D54"
      />
    </svg>
  );
}

export default Mountains;
